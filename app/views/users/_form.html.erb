<div ng:controller="UserFormCtrl">
<%= form_for(@user) do |f| %>
  
  <% if @user.errors.any? %>
    <uib-alert type="danger">
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </uib-alert>
  <% end %>

  <div class="row">

    <div class="col-md-6">

      <div class="form-group">
        <%= f.label :name %><br>
        <%= f.text_field :name,class: 'form-control',placeholder: 'Full Name' %>
      </div>
      <div class="form-group">
        <%= f.label :role %><br>
        <%= f.text_field :role,class: 'form-control',placeholder: 'Role' %>
      </div>
      <div class="form-group">
        <%= f.label :team %>
        <%= f.select :team,@team_options,{},class: 'form-control' %>
      </div>
      <div class="form-group">
        <div class="checkbox">
          <label>
            <%= f.check_box :public %> <b>Public</b>
          </label>
        </div>
      </div>
      <div class="form-group">
        <div class="checkbox">
          <label ng:init="admin = <%= @user.admin %>">
            <%= f.check_box :admin,'ng:model' => 'admin','ng:change' => 'adminChanged()' %> <b>Admin</b>
          </label>
        </div>
      </div>
      <div class="form-group" ng:show="admin">
        <%= f.label 'Password' %><br>
        <%= f.password_field :password,class: 'form-control',placeholder: 'Password','ng:model' => 'password' %>
      </div>
      <div class="form-group" ng:init="adminChanged()">
        <%= f.label :email %><br>
        <%= f.text_field :email,class: 'form-control',placeholder: 'Email' %>
      </div>
      <div class="form-group">
        <%= f.label :phone %><br>
        <%= f.text_field :phone,class: 'form-control',placeholder: 'Phone' %>
      </div>
      <div class="form-group">
        <%= f.label :image %><br>
        <%= image_tag @user.image.thumb.url,class: 'img-thumbnail' %><br><br>
        <%= f.file_field :image,class: 'form-control',placeholder: 'Profile Image' %>
        <%= f.text_field :remote_image_url,class: 'form-control',placeholder: 'Image Url' %>
      </div>

      <div class="form-group">
        <%= f.submit 'Save',class: 'btn btn-success btn-lg form-control' %>
      </div>

    </div>

    <div class="col-md-6">

      <div class="form-group">
        <%= f.label :description %><br>
        <%= f.text_area :description %>
        <script type="text/javascript">
          $(document).ready(function(){

            setTimeout(function(){
              
              tinyMCE.remove();
              tinyMCE.init({
                selector: '#user_description',
                min_height: 300
              });

            },100);

          });
        </script>
      </div>

    </div>

  </div>

<% end %>
</div>