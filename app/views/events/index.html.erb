<%= render 'layouts/jumbtron' %>
<section class="main-body without-search-feature">
  <div class="container" ng:controller="EventsCtrl">
    <div class="row content-section">
      <div class="col-xs-12">
        <div class="box-shadow">
          <ol class="breadcrumb">
            <li><%= link_to 'Home', root_url %></li>
            <li class="active">Events</li>
          </ol>
        </div>
      </div>
      <div class="col-xs-12">
        <h1>Events for Investing in Real Estate</h1>
        <div class="list-group">
          <h3 class="text-muted" ng:if="loading">Loading...</h3>
          <h3 class="text-muted" ng:if="!loading && events.length == 0">No upcoming events</h3>
          <a href="{{event.link}}" target="_blank" class="list-group-item" ng:repeat="event in events">
            <h3>{{event.name}}<br><small>{{moment(event.time).format('MMM D, YYYY h:mm a')}}</small></h3>
            <div class="row">
              <div class="col-md-5" ng:if="event.venue">
                <div class="list-group">
                  <div class="list-group-item active">
                    <h4 class="list-group-item-heading">{{event.venue.name}}</h4>
                  </div>
                  <div class="list-group-item">
                    <p class="list-group-item-text">
                      {{event.venue.address_1}}<br>
                      {{event.venue.city}}, {{event.venue.state}}
                    </p>
                    <img ng:src="/api/v1/map.png?address={{event.venue.address_1}}, {{event.venue.city}}, {{event.venue.state}}&width=600&height=300" class="img-thumbnail" />
                  </div>
                </div>
              </div>
              <div class="col-md-7">
                <span ng-bind-html="event.description"></span>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>